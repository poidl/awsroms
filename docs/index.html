<?xml version="1.0" encoding="utf-8" ?>
<script type="text/javascript">
        window.onscroll=function(){
            if (window.scrollY > 300 ) {
                document.getElementById('back-to-top').style.display="inline-block";
            } else {
                document.getElementById('back-to-top').style.display="none";
            }
        }
    </script><div style="position: fixed; bottom: 25px; width=100%; max-width: 800px; margin:auto; text-align: right; left:0; right: 0;  padding-right: 1em;">
<a class="back-to-top" href="#mycontents" id="back-to-top">Table of contents</a>
</div><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
"http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>ROMS AWS</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="TeX4ht (http://www.tug.org/tex4ht/)" name="generator"/>
<meta content="TeX4ht (http://www.tug.org/tex4ht/)" name="originator"/>
<!-- xhtml,charset=utf-8,mathml,html -->
<meta content="main.tex" name="src"/>
<link href="main.css" rel="stylesheet" type="text/css"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/></head><div style="overflow-x: scroll;"><body style="font-size: 100%; width=100%; max-width: 800px; padding: 1em; margin: auto;">
<div class="maketitle">
<h2 class="titleHead">Notes on running ROMS on Amazon Web Services (DRAFT)</h2>
<div class="author"><span class="cmss-12x-x-120">Stefan Riha</span><span class="thank-mark"><a href="#tk-1"><span class="cmsy-10x-x-144">∗</span></a></span></div><br/>
<div class="date"><span class="cmss-12x-x-120">January 11, 2017</span></div>
<div class="thanks"><br/><a id="tk-1"></a><span class="thank-mark"><span class="cmsy-10x-x-120">∗</span></span>Email: stefan@sriha.net</div></div>
<a id="x1-2r1"></a>
<ol><a id="mycontents"></a><li><a href="#x1-10001">Preliminary results</a></li><li><a href="#x1-20001">References</a></li></ol><h3 class="sectionHead"><span class="titlemark">1   </span> <a id="x1-10001"></a>Preliminary results</h3>
<!--l. 76--><p class="noindent">All results shown were produced with ROMS (<a href="#Xshchepetkin2005regional">Shchepetkin and McWilliams</a>, <a href="#Xshchepetkin2005regional">2005</a>), compiled with Open MPI
using gfortran.
</p>
<hr class="figure"/><div class="figure">
<a id="x1-1001r1"></a>
<!--l. 80--><p class="noindent" style="text-align:center"><img alt="PIC" src="../figures/met_t2micro.svg" style="width: 71%; max-width: 800px;"/>
<br/> </p><div class="caption"><span class="id">Figure 1: </span><span class="content">Time (in seconds) spent per process for the ROMS ”small” benchmark test (benchmark1.in),
as function of the number of processes. Computations are performed on t2.micro instances of AWS,
which have one vCPU per (virtual) node (2016/11/01). Each data point shows the average over all
processes, measured from one single experiment. The inset shows the domain partition (tiling) of the
512x64(x30) point domain. The result suggests that partitioning along the ﬁrst dimension yields better
performance, and that the problem scales nonlinearly.</span></div><!--tex4ht:label?: x1-1001r1 -->
</div><hr class="endfigure"/>
<hr class="figure"/><div class="figure">
<a id="x1-1002r2"></a>
<!--l. 87--><p class="noindent" style="text-align:center"><img alt="PIC" src="../figures/met_c4large.svg" style="width: 71%; max-width: 800px;"/>
<br/> </p><div class="caption"><span class="id">Figure 2: </span><span class="content">Same as Fig. <a href="#x1-1001r1">1<!--tex4ht:ref: fig:met_t2micro --></a>, but computations are performed on c4.large instances of AWS, which have 2
vCPUs per (virtual) node. In the case of c4 instances, a vCPU is deﬁned as a single thread of a custom
2.9 GHz Intel Xeon E5-2666 v3 (Haswell) processor (2016/11/01).</span></div><!--tex4ht:label?: x1-1002r2 -->
</div><hr class="endfigure"/>
<hr class="figure"/><div class="figure">
<a id="x1-1003r3"></a>
<!--l. 94--><p class="noindent" style="text-align:center"><img alt="PIC" src="../figures/met_c44xlarge.svg" style="width: 71%; max-width: 800px;"/>
<br/> </p><div class="caption"><span class="id">Figure 3:  </span><span class="content">Time  (in  seconds)  spent  per  process  for  the  ROMS  ”medium”  benchmark  test
(benchmark2.in), as function of the number of processes. Computations are performed on c4.4xlarge
instances of AWS, which have 16 vCPUs per (virtual) node.</span></div><!--tex4ht:label?: x1-1003r3 -->
</div><hr class="endfigure"/>
<a id="Q1-1-5"></a>
<h3 class="likesectionHead"><a id="x1-20001"></a>References</h3>
<div class="thebibliography">
<p class="bibitem"><span class="biblabel">
<a id="Xshchepetkin2005regional"></a><span class="bibsp">   </span></span>Shchepetkin,  A.F.,  McWilliams,  J.C.,  2005.   The  regional  oceanic  modeling  system  (roms):  a
  split-explicit,  free-surface,  topography-following-coordinate  oceanic  model.    Ocean  Modelling  9,
  347–404.
</p>
</div>
</body></div></html>
